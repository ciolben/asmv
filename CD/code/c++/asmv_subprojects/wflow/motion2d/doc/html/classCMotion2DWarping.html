<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<title>Motion2D: a software to estimate 2D parametric motion models</title>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<meta content="Motion2D: dominant motion estimation" name=description>
<meta content="Motion2D,motion estimation,motion models,image processing" 
name=KeyWords>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>

<center>
<a href="http://www.irisa.fr/vista/Vista.english.html"><img src="logo-vista3.gif" alt="Vista" align=middle border=0></a> &nbsp;&nbsp;&nbsp;

<a href="index.html">Main Page</a> &nbsp;

<a href="annotated.html">Class List</a> &nbsp;

<a href="functions.html">Function List</a> &nbsp;

<a href="files.html">File List</a> &nbsp;

<a href="examples.html">Examples</a> &nbsp;
</center>

<hr>
<br>
<!-- Generated by Doxygen 1.2.18 -->
<h1>CMotion2DWarping Class Reference</h1>The CMotion2DWarping class provides motion-compensation. 
<a href="#_details">More...</a>
<p>
<a href="classCMotion2DWarping-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Public Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classCMotion2DWarping.html#a0">CMotion2DWarping</a> ()</td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classCMotion2DWarping.html#a1">~CMotion2DWarping</a> ()</td></tr>
<tr><td nowrap align=right valign=top>bool&nbsp;</td><td valign=bottom><a class="el" href="classCMotion2DWarping.html#a2">initBackWarp</a> (int dst_nrows, int dst_ncols, int dst_row_offset, int dst_col_offset)</td></tr>
<tr><td nowrap align=right valign=top>bool&nbsp;</td><td valign=bottom><a class="el" href="classCMotion2DWarping.html#a3">backWarp</a> (unsigned char *src, int src_nrows, int src_ncols, unsigned char *dst, <a class="el" href="classCMotion2DModel.html">CMotion2DModel</a> model)</td></tr>
<tr><td nowrap align=right valign=top>bool&nbsp;</td><td valign=bottom><a class="el" href="classCMotion2DWarping.html#a4">backWarp</a> (short *src, int src_nrows, int src_ncols, short *dst, <a class="el" href="classCMotion2DModel.html">CMotion2DModel</a> model)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classCMotion2DWarping.html#a5">getBackWarpPosition</a> (int row, int col, float &amp;d_row, float &amp;d_col)</td></tr>
<tr><td nowrap align=right valign=top>bool&nbsp;</td><td valign=bottom><a class="el" href="classCMotion2DWarping.html#a6">warp</a> (unsigned char *src, unsigned char *dst, int nrows, int ncols, <a class="el" href="classCMotion2DModel.html">CMotion2DModel</a> model)</td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
The CMotion2DWarping class provides motion-compensation.<dl compact><dt><b>Examples: </b></dt><dd>

<p>
<a class="el" href="Motion2D_8cpp-example.html#_a5">Motion2D.cpp</a>, and <a class="el" href="Warping_8cpp-example.html#_a3">Warping.cpp</a>.</dl>
<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a name="a0" doxytag="CMotion2DWarping::CMotion2DWarping"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> CMotion2DWarping::CMotion2DWarping </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Constructor.     </td>
  </tr>
</table>
<a name="a1" doxytag="CMotion2DWarping::~CMotion2DWarping"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> CMotion2DWarping::~CMotion2DWarping </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Destructor. Frees the allocated memory.
<p>
<dl compact><dt><b>See also: </b></dt><dd>
<a class="el" href="classCMotion2DWarping.html#a2">initBackWarp()</a> </dl>    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a name="a4" doxytag="CMotion2DWarping::backWarp"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool CMotion2DWarping::backWarp </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">short *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>src</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>src_nrows</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>src_ncols</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>short *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>dst</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="classCMotion2DModel.html">CMotion2DModel</a>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>model</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Generate a backwarped image in <em>dst</em> from the original image <em>src</em>, using the motion model <em>model</em>.
<p>
The size of the images to backwarped is given by [<em>src_nrows</em>, <em>src_ncols</em> ].
<p>
The size of the backwarped image is to set by calling <a class="el" href="classCMotion2DWarping.html#a2">initBackWarp()</a>.
<p>
The 2D parametric motion model to use to backwarp the image <em>src</em> is specified by <em>model</em>.
<p>
<dl compact><dt><b>Warning: </b></dt><dd>
Before using this function, the warping must be initialized by a call to <a class="el" href="classCMotion2DWarping.html#a2">initBackWarp()</a>.</dl><dl compact><dt><b>Warning: </b></dt><dd>
The table containing the compensated image <em>dst</em> must be allocated before a call to this function.</dl>Return true if success, false otherwise.
<p>
<dl compact><dt><b>See also: </b></dt><dd>
<a class="el" href="classCMotion2DWarping.html#a2">initBackWarp()</a> </dl>    </td>
  </tr>
</table>
<a name="a3" doxytag="CMotion2DWarping::backWarp"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool CMotion2DWarping::backWarp </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned char *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>src</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>src_nrows</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>src_ncols</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>unsigned char *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>dst</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="classCMotion2DModel.html">CMotion2DModel</a>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>model</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Generate a backwarped image in <em>dst</em> from the original image <em>src</em>, using the motion model <em>model</em>.
<p>
The size of the images to backwarped is given by [<em>src_nrows</em>, <em>src_ncols</em> ].
<p>
The size of the backwarped image is to set by calling <a class="el" href="classCMotion2DWarping.html#a2">initBackWarp()</a>.
<p>
The 2D parametric motion model to use to backwarp the image <em>src</em> is specified by <em>model</em>.
<p>
<dl compact><dt><b>Warning: </b></dt><dd>
Before using this function, the warping must be initialized by a call to <a class="el" href="classCMotion2DWarping.html#a2">initBackWarp()</a>.</dl><dl compact><dt><b>Warning: </b></dt><dd>
The table containing the compensated image <em>dst</em> must be allocated before a call to this function.</dl>Return true if success, false otherwise.
<p>
<dl compact><dt><b>See also: </b></dt><dd>
<a class="el" href="classCMotion2DWarping.html#a2">initBackWarp()</a> </dl><dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="Motion2D_8cpp-example.html#a34">Motion2D.cpp</a>.</dl>    </td>
  </tr>
</table>
<a name="a5" doxytag="CMotion2DWarping::getBackWarpPosition"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void CMotion2DWarping::getBackWarpPosition </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>row</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>col</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>float &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>d_row</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>float &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>d_col</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Gives the cumulated displacements of a pixel which position is defined by <em>row</em>, <em>col</em>, with respect to the reference image specified by <a class="el" href="classCMotion2DWarping.html#a2">initBackWarp()</a>.
<p>
The cumulated displacement along the row axis is stored in <em>d_row</em>, along the column axis in <em>d_cols</em>.
<p>
<dl compact><dt><b>See also: </b></dt><dd>
<a class="el" href="classCMotion2DWarping.html#a2">initBackWarp()</a>, <a class="el" href="classCMotion2DWarping.html#a3">backWarp()</a> </dl>    </td>
  </tr>
</table>
<a name="a2" doxytag="CMotion2DWarping::initBackWarp"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool CMotion2DWarping::initBackWarp </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>dst_nrows</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>dst_ncols</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>dst_row_offset</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>dst_col_offset</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function allocates the memory necessary to store the combination of the instantaneous motion displacements between two successive images and defines the reference image which respect to the motion compensation is performed.
<p>
The size of the images to compensate is given by [<em>src_nrows</em>, <em>src_ncols]</em>.
<p>
The size of the motion compensated image computed by <a class="el" href="classCMotion2DWarping.html#a6">warp()</a> or <a class="el" href="classCMotion2DWarping.html#a3">backWarp()</a> is given by [<em>dst_nrows</em>, <em>dst_ncols]</em>. His size can be greater than the image size.
<p>
The parameters <em>dst_row_offset</em> and <em>dst_col_offset</em>, specify the position of the reference image in the motion compensated image. The considered origin is the upper-left corner of the source image.
<p>
return true if the warping initialization succeed, false otherwise.
<p>
<dl compact><dt><b>See also: </b></dt><dd>
<a class="el" href="classCMotion2DWarping.html#a6">warp()</a>, <a class="el" href="classCMotion2DWarping.html#a3">backWarp()</a> </dl><dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="Motion2D_8cpp-example.html#a33">Motion2D.cpp</a>.</dl>    </td>
  </tr>
</table>
<a name="a6" doxytag="CMotion2DWarping::warp"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool CMotion2DWarping::warp </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned char *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>src</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>unsigned char *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>dst</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>nrows</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>ncols</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="classCMotion2DModel.html">CMotion2DModel</a>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>model</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Warp the image <em>src</em> into <em>dst</em> using the motion model <em>model</em>. The parameter <em>nrows</em> refers to the number of lines in the images. <em>ncols</em> indicates the number of columns.
<p>
<dl compact><dt><b>Warning: </b></dt><dd>
The table containing the warped image <em>dst</em> must be allocated before a call to this function.</dl>Return true if success, false otherwise.
<p>
<dl compact><dt><b>See also: </b></dt><dd>
<a class="el" href="classCMotion2DModel.html">CMotion2DModel</a> </dl><dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="Warping_8cpp-example.html#a20">Warping.cpp</a>.</dl>    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="CMotion2DWarping_8h-source.html">CMotion2DWarping.h</a><li><a class="el" href="CMotion2DWarping_8cpp.html">CMotion2DWarping.cpp</a></ul>
<hr> 
<address><small>Motion2D is Copyright &copy; 1995-2005 by <a href="http://www.inria.fr/index.en.html">Inria</a></small></address>
<address><small>This documentation was generated on 31 Jan 2005 by Fabien Spindler for 
Motion2D 1.3.11 using <a href="http://www.doxygen.org/index.html"> 
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=77 height=37></a>1.2.18 written by <a href="mailto:dimitri@stack.nl">Dimitri 
van Heesch</a>, &copy;&nbsp;1997-2005</small></address>
</body>
</html>
